## 템플릿 로더 이해하기

### 로더(loader)란?

-   웹팩은 기본적으로 자바스크립트로 구성되어 있다. 자바스크립트에서 사용 불가능한 코드는 자바스크립트에서 해석할 수 있는 방식으로 변환하여 처리한다. 웹팩에서 로더(loader)는 자바스크립트 코드 뿐만 아니라 css, scss, html, handlebar, lodash ejs 등의 자바스크립트가 아니거나 자바스크립트 이외의 코드를 포함하는 다양한 포멧의 파일을 자바스크립트로 코드를 해석하여 자바스크립트만 처리할 수 있는 웹팩이 처리할 수 있도록 만든다. 웹팩의 로더는 `webpack.config.js`에서 `config.module.rules` 부분에서 설정할 수 있다.

### html-webpack-plugin의 기본 템플릿

-   템플릿이란? 템플릿이란 어떤 것을 만들 때 사용되는 틀을 의미한다. 어떤 특정한 형태를 만들어 두면 여러 번 재사용할 수 있는 것을 템플릿이라고 말한다. html에서 템플릿이란 어떤 형태의 html 문서에 여러 다른 값을 주입하여 다양한 형태로 재사용할 수 있는 형식의 템플릿을 의미한다.
-   순수한 html은 코정된 형태의 html 구성만을 가지므로 템플릿으로 사용할 수 없다. html을 템플릿으로 사용하기 위해서는 순수한 html이 아닌 재활용할 수 있는 방식의 무언가를 가진 템플릿 기능이 가미된 html을 사용해야 한다.
-   html-webpack-plugin은 기본적으로 lodash ejs 템플릿을 사용한다. lodash ejs 모듈은 html에서 `<%` `%>` 사이에 자바스크립트 코드를 사용할 수 있는 기능을 제공한다. 자바스크립트 코드가 만들어낸 문자열이 html의 코드가 되어 빌드를 통해서 순수한 html을 만드는 기능을 한다.
-   html-webpack-plugin은 어떤 구조의 html 파일에서 lodash ejs 템플릿 문법을 사용하여 여러 값을 html에 주입할 수 있다. 이 주입된 값을 이용하여 어떤 형태의 html을 다양한 형태로 재사용할 수 있는 기능을 제공한다.

### html-webpack-plugin의 기본 템플릿의 한계

-   html-webpack-plugin의 기본 템플릿은 `<%= require('자바스크립트/모듈의/파일/경로.js').함수명()_또는_변수명 %>`와 같이 자바스크립트 모듈을 불러올 수 있다.
-   lodash ejs 템플릿은 html 파일에 자바스크립트 코드를 쓰는 것이다. 하지만 외부 파일을 불러오는 것은 자바스크립트 모듈이다. 따라서 html 템플릿을 확장하는 방식으로 코드를 작성할 수는 없고, 자바스크립트를 불러오는 방식으로 코드를 짜야 한다.
-   홈페이지를 만들다 보면 페이지별로 헤더 푸터 사이드바 등 공통적으로 사용되는 html 태그 구조가 있다. html 별로 이들 태그를 만들다 보면 변경사항이 발생할 때 모든 태그를 다 고쳐야 하는 일이 생긴다. html 태그 조각을 만들어서 불러오는 방식을 사용하면 여러 페이지에서 공통적으로 사용하는 태그 조각을 하나의 파일로 관리할 수 있다.
-   lodash ejs 템플릿에서 html 태그 조각을 불러오는 방식은 자바스크립트 모듈을 불러오는 것이고 이 방식은 모든 태그를 자바스크립트 모듈로만 구성해야 한다는 문제점이 있다. html 코드를 문자열로 짜야하므로 IDE에서 코드의 자동완성이 되지 않는 문제가 있으며 자바스크립트로 짜기 때문에 프로그래밍에 익숙하지 않은 디자이너와 소통을 할 때 또는 초보 개발자들이 어려움을 겪을 수 있다.
