## 정적 사이트 생성기

### 정적사이트와 동적사이트

-   서버의 공유 폴더에 파일을 올리고 인터넷과 같은 네트워크를 통해 서버에 올린 파일을 다운로드 받는 방식으로 웹 페이지를 제공하는 방식의 사이트를 정적(static) 사이트라고 부른다.
-   브라우저는 어떤 URL로 접근하여 html, css, js, img, font 등의 파일을 다운로드 받는다. 파일을 다운로드 받기 위해서 브라우저가 서버에게 명령을 내리는 과정이 수행되는데 이를 리퀘스트라고 부른다.
-   동적(dynamic) 사이트는 서버에 요청되는 리퀘스트 정보에 따라서 클라이언트(일반적으로 브라우저)에게 보내는 코드를 변경한다. 하지만 정적 사이트의 경우는 서버에서 공개한 폴더의 특정 경로에 접근하여 파일을 받으므로 동일한 URL로 접근했을 때는 동일한 파일을 받는다. 이와 달리 동적 사이트의 경우에는 동일한 URL로 접근을 해도 다른 코드를 가진 파일 또는 데이터를 다운로드 받게 할 수 있다.

### 정적 사이트와 동적 사이트의 용도

-   정적 사이트는 개인 프로필, 회사 홈페이지 등 내용의 변동성이 적고 고정된 데이터를 제공할 때 사용한다. 이에 반해 정적 사이트는 시간의 흐름에 따라서 내용이 변하는 계속 달라지는 데이터를 제공할 때 사용된다.
-   정적 사이트는 서버에 파일을 올려 놓으면 되는 걸과 달리, 동적 사이트는 동일한 경로라도 조건에 따라 다른 코드를 다운로는 전달하는 서버 프로그램을 반드시 사용하며, 보통은 데이터를 저장하고 꺼내쓰기 위한 데이터베이스와 데이터를 여러 형태로 가공할 수 있는 애플리케이션 서버와 함께 사용한다.

### 정적 사이트를 만드는 이유

-   서버를 만드는 것은 많은 비용을 동반한다. 특히 동적 사이트의 경우에는 서버 컴퓨터에서 프로그램을 실행시켜야 하기 때문에 훨씬 더 많은 비용을 요구한다. 하지만, 정적 사이트의 경우에는 서버 컴퓨터에서 특별한 프로그램을 실행 시킬 필요가 없으며, 프로그램을 실행하더라도 동적 사이트와 같이 사이트마다 서로 다른 코드의 프로그램을 실행시키는 것과 달리 동일한 프로그램으로 여러 동적 사이트에서 실행되는 프로그램으로 충분하다.
-   정적사이트는 서버의 비용적인 부분에서 동적 사이트에 비해 압도적으로 저렴하게 구성할 수 있다는 장점이 있다. 또한 깃허브 페이지와 같은 서비스는 정적 사이트의 경우 무료로 서버를 이용할 수 있게 해 준다. 깃허브 리포지토리에 파일을 올리면 인터넷이 되는 세상 어디에서든 접속할 수 있는 웹을 무료로 만들 수 있는 것이다.

### SEO를 고려하기

-   검색엔진은 여러 사이트들의 html 파일을 읽고 html의 키워드를 저장한다. 검색엔진에서 검색을 하게 되면 저장된 키워드를 바탕으로 키워드가 있는 사이트가 어디인지 리스트를 띄워준다.
-   구글과 같이 뛰어난 검색엔진은 사이트를 접속하고 자바스크립트에 의해 최종적으로 랜더링된 화면의 데이터를 검색 엔진의 키워드로 저장하지만, 상대적으로 규모가 작은 검색엔진은 기술적인 한계로 인해 자바스크립트에 의해 랜더링된 사이트가 아닌 html의 정보만을 키워드로 저장한다. 따라서 다양한 검색엔진에 노출되게 하기 위해서는 리액트, 뷰와 같은 자바스크립트 랜더링으로 페이지가 만들어지는 것이 아닌 html에 최대한 정보를 담는 방식의 홈페이지를 만드는 것이 좋다.
-   정적 사이트는 고정된 코드의 html, css, js, img, font 등을 제공하면 되기 때문에 리액트, 뷰와 같은 도구를 통해서도 정적 사이트를 만들 수 있다. 하지만 리액트 뷰와 같은 자바스크립트로 화면의 데이터를 랜더링하는 방식은 다양한 검색엔진에 노출되는 방식은 아니기 때문에 html 코드 안에 페이지 정보가 다 기록되어 있는 사이트 보다 SEO에서 유리하지 않다.
-   구글에만 검색된다면 괜찮을 수 있지만, 구글 뿐만 아닌 상대적으로 규모가 작은 검색엔진에도 잘 검색되게 하기 위해서는 html으로 이뤄진 페이지를 만드는 것이 좋다.

### HTML 코딩의 한계

-   html로 여러 페이지를 만들어야 하는데, html 만으로는 반복되는 html 코드 조각들은 각각의 페이지에 만들어 줘야 한다. 프로그래밍 언어라면 공통으로 사용할 기능을 함수 또는 클래스 등을 사용해서 반복적으로 사용할 수 있는 반면, html은 반복적인 코드 조각을 재상용할 수 있는 기능을 갖고 있지 않다.
-   웹 사이트의 UI를 생각할 때 전체 사이트에서 일관된 디자인과 방향성 있는 테마는 중요하다. 하지만, 모든 페이지의 코드를 각각 짜게 되면 한 부분이 변경 되었을 때 동일한 코드에 해당하는 모든 html을 모두 바꿔주어야 한다는 단점이 있다. 한 번에 모든 사양이 다 정해져도 여러 페이지의 공통 코드 조각을 반복적으로 만드는 것은 실수를 유발할 가능성이 높은데 소프르웨어는 점진적으로 사양이 변하고 개선이 이뤄지고 변경이 되므로 순수한 html만으로는 지속적인 관리가 어렵다는 단점이 있다.
-   이런 한계를 극복하는 하나의 방법으로 리액트나 뷰를 사용해서 자바스크립트로 페이지를 만드는 방법을 사용한다. 컴포넌트로 코드 조각을 만들고 페이지마다 필요한 컴포넌트를 불러오는 방식으로 공통적인 코드를 지속적으로 사용할 수 있다. 하지만 리액트나 뷰는 자바스크립트를 실행한 이후에 웹 페이지를 갱신하는 방식이므로 자바스크립트에 의해 랜더링된 정보를 취득하지 못하는 검색엔진에는 노출되지 않으므로 SEO 문제가 있어 권장되지 않는다.

### 정적사이트를 만드는 도구

-   정적사이트를 생성하는 도구로 잘 알려진 것이 있다. [jamstack의 정적 사이트 생성 도구 리스트](https://jamstack.org/generators/)를 보면 가장 유명한 정적 페이지 리스트가 나온다.
-   유명한 정적 사이트 생성 도구로는 Next.js, Hugo, Gatsby, Nuxt, Jeykell, hexo, eleventy 등이 있다.

#### 테마에 마크다운으로 작성된 컨텐츠를 넣는 방식

-   이들 정적 사이트 생성 도구는 대다수가 HTML, CSS, JS로 짠 테마에 Markdown 파일에 정의한 값을 대입하는 방식으로 구성되어 있다. 마크다운으로 컨텐츠를 정의하고 컨텐츠를 테마에 넣는 방식이다.
-   이들 도구가 인기 있는 이유는 잘 만들어진 테마를 사용해서 Markdown으로 컨텐츠만 넣으면 되기 때문에 사용자는 별도의 디자인을 만들지 않고서도 어느정도 잘 디자인 된 웹 페이지를 만들 수 있기 때문에 인기가 많다.
-   이런 구성은 정적 페이지로 이뤄진 블로그에 좋은 방식이지만, 회사 홈페이지나 개인 프로필을 맛깔나게 꾸며내기 위해서는 컨텐츠 보다는 다양한 데이터를 넣기 위한 구조를 만드는 테마를 집중적으로 만들게 된다. 컨텐츠의 반복이 적고 페이지마다 상이한 디자인을 갖는 사이트의 경우는 고정된 테마를 제공하는데 특화된 정적 사이트 생성 도구들이 적합하지 않을 수도 있다.
-   물론 정적 사이트 도구들도 테마를 만들기 위한 다양한 기능을 제공하기 때문에 상이한 디자인을 갖는 다양한 템플릿을 지원하기 때문에 상이한 디자인을 갖는 사이트를 만드는 것도 잘 할 수 있다.
-   하지만 자바스크립트 및 CSS 최적화 툴이 세련되지 못하며 불필요한 많은 요소들을 함께 제공한다. 또한 자바스크립트나 CSS를 우아한 방법으로 다루기 위한 기술을 제공하는데는 부족하다는 단점이 있다. 그래서 이들 정적 사이트 생성기들도 웹팩과 병행해서 사용하는 경우가 많이 있다.

#### 리액트나 뷰를 이용한 SSG 개발

-   Next.js나 Gatsby는 리액트를 사용하고 Nuxt는 뷰를 사용해서 랜더링된 페이지를 html로 제공하는 SSG(Static Side Generator)라는 기술을 사용하여 SEO 문제를 해결한 정적 페이지를 만들어 낼 수 있다.
-   하지만 리액트나 뷰의 문법을 알아야 하기 때문에 프론트앤드 엔지니어에게는 리액트, 뷰의 기술도 적용하면서 SEO에 강한 정적 사이트를 만들어 낼 수 있는 장점이 있지만, 초보 개발자나 협업을 하는 디자이너가 이해하기 힘든 코드를 만들어 낼 수 있다는 단점이 있다.

#### 웹팩으로 정적 사이트 제작이 가능

-   리액트나 뷰를 사용하지 않고 일반적인 html, css로 사이트의 구조 + 디자인 + 컨텐츠를 만들고 JS를 자유롭게 첨가하는 방식으로 사이트를 만들면서 자바스크립트나 CSS를 우아하게 다룰 수 있는 잘 알려진 툴로 웹팩이란 기술이 존재한다.

### 왜 웹팩을 사용하는가?

-   웹팩은 잘 알려진 기술이며 수 많은 사이트에서 장기간 사용되어 온 툴이다. 자바스크립트 및 CSS를 최적화하는데 최고의 도구이며 이를 다루는데 있어 타의 추종을 불허한다. 이런 프론트엔드 기술 위에 추가적으로 사용할 수 있는 다양한 로더(loader) 및 플러그인(plugin)이 존재하고 이들을 통해서 html 파일을 구조화하여 개발할 수 있는 기능을 제공한다.
-   회사 홈페이지나 개인 프로필 페이지는 일관된 디자인 테마를 유지하면서도 페이지마다 상이한 디자인을 갖는 경우가 많다. 이런 경우에는 테마에 컨텐츠를 찍어내는 툴 보다는 다양한 디자인을 쉽게 만들어 낼 수 있는 개발 방식을 사용하는 편이 좋다. 이런 개발에 필요한 불필요한 방식을 최대한 걷어내고 효율적이고 빠르게 개발할 수 있는 방식이 웹팩을 사용한 방식이다.

### 웹팩의 단점

-   여러 문제를 해결한 많은 로더, 플러그인, 웹팩의 기능이 있지만 이들을 어떻게 활용해야 하는지 잘 정리된 문서가 없다. 누군가 잘 정리하지 않았기 때문에 정적 웹 사이트를 만들 때 필요한 설정이 무엇이고 어떻게 사용해야하며 이들을 활용해서 어떻게 만들어야 하는지에 대한 많은 고민과 시행착오가 필요하다.
-   웹팩은 인기가 있는 도구이지만 웹팩의 플러그인은 몇 가지를 제외하고 인기가 많은 편은 아니다. 따라서 웹팩이 발전함에 따라 로더나 플러그인의 지원이 끝날 수 있다는 것도 염두해 두어야 한다. 가능한 인기있는 로더나 플러그인을 사용하고, 불가피하게 인기 없는 로더나 플러그인을 사용하게 된다면 대체할 수 있는 방법이 있는지 먼저 알아보고 대체할 수 있는 방법이 없을 때 사용하도록 하자. 그럼에도 앞으로 메인테인스의 가능성이 없는 플러그인이나 로더는 가능하면 사용하지 않는 쪽으로 생각하며 적절한 해답을 찾아 나가야 한다.
-   웹팩만의 문제인지는 모르지만, 사이트의 페이지가 많아져서 많은 양의 html 파일을 빌드해야 하는 경우 빌드 할 때마다 모든 html 파일을 빌드하는 방식을 사용하기 때문에 큰 규모의 사이트를 만들 경우 시간이 많이 걸리는 문제가 발생할 수 있다는 단점이 있다.
